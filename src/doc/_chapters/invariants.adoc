=== Invariants

[source,ocl]
----
context Jeu inv:
    self.joueur->size() >= 3 and self.joueur->size() <= 6

context Continent inv:
    self.name = "Afrique" implies self.territoire->size() = 6 and
    self.name = "Asie" implies self.territoire->size() = 12 and
    self.name = "Océanie" implies self.territoire->size() = 4 and
    self.name = "Europe" implies self.territoire->size() = 7 and
    self.name = "Amérique du Nord" implies self.territoire->size() = 9 and
    self.name = "Amérique du Sud" implies self.territoire->size() = 4

context Jeu inv:
    self.joueur->size() >= 3 and self.joueur->size() <= 6

-- Ce sont des dés de 6
context De::lancer(): Integer
    post: result >= 1 and result <= 6

-- Le nombre d'armées par joueur en début de partie dépend du nombre de joueurs
context Joueur::territoire::armées->size() : Integer
    init: 35 - (Jeu::joueur->size() - 3) * 5

-- L'attaquant laissera toujours au moins un pion d'armée sur le territoire attaquant
context Jeu::attaquer(attaquant: Territoire, defenseur: Territoire)
    pre: attaquant.voisins->includes(defenseur) and attaquant->armées->size() >= 2 and
         attaquant.propriétaire <> defenseur.propriétaire 
    post:  ( (attaquant->armées@pre->size() <> attaquant->armées@post->size()) or 
           (defenseur->armées@pre->size() <> defenseur->armées@post->size()) ) and
           attaquant->armées@post->size() >= 1 and
           let lancesDes : Sequence(OclMessage) =
           De^^lancer() in
           lancesDes->size() < attaquant->armées@pre->size() - 1 and lancesDes->size() < 3
           
-- Les déplacements d'armées ne laisse jamais un territoire innocupé     
context Jeu::renfort(origine: Territoire, destination: Territoire)
    pre: origine.propriétaire = destination.propriétaire and 
         origine.voisins->includes(destination) and origine->armées->size() >= 2
    post: origine->armées@post->size() >= 1
    
    
----
